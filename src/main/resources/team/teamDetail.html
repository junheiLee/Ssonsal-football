<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="/team/js/Apply.js"></script>
    <link href="/team/css/reset.css" rel="stylesheet">
    <link href="/team/css/header.css" rel="stylesheet">
    <link href="/team/css/teamdetail.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/team/css/all.min.css" rel="stylesheet">
    <title>쏜살</title>
</head>

<body>

<div id="wrap">

    <header id="headBox">
        <div class="logoBox">
            <h1><a href="#"></a></h1>
        </div>
        <div class="navBox">
            <ul class="nav">
                <li><a href="#">Game</a></li>
                <li><a href="#">Rank</a></li>
                <li><a href="#">All Team</a></li>
                <li><a href="#">My Team</a></li>
                <li><a href="#">My Page</a></li>
            </ul>
        </div>
        <div class="logInBt">
            <button>Login</button>
        </div>
    </header>

    <div class="container mt-5">
        <div class="row teamintro">
            <div class="col-6 col-lg-3 teamlogo"><img class="img-fluid" src="./img/ball.png" alt="팀로고"/></div>
            <div class="col-6 col-lg-7">
                <p class="teamname">[[${detail.name}]] <span style="margin-left:10px;font-size:14px;"
                                                                 th:text="${detail.leaderName}"></span></p>
                <p class="teamcomment" th:text="${detail.intro}"></p>
            </div>
            <div class="col-lg-2 teambtn" style="height: 50px;">
                <div class="row teambtnn" style="height: 50px;">
                    <div th:if="${userlevel == T(com.ssonsal.football.team.entity.Role).TEAM_LEADER}" class="col-4 col-lg-12"><a th:href="@{'/teams/' + ${detail.id} + '/managers'}">팀 관리 하기</a></div>
                    <div class="col-4 col-lg-12"><a href="#">출전 경기 보기</a></div>
                    <div class="col-4 col-lg-12"><a href="#">팀 리뷰 보기</a></div>
                </div>
            </div>
        </div>


        <div class="container mt-5 teamss">
            <h1>기타 정보</h1>
            <div class="row mb-5">
                <div class="col-6 col-lg-4 teaminfo">
                    <p th:text="${detail.ranking}"></p>
                    <p>랭킹</p>
                </div>
                <div class="col-6 col-lg-4 teaminfo">
                    <p th:if="${detail.skillScore == -1.0}">기록없음</p>
                    <p th:unless="${detail.skillScore == -1.0}" th:text="${detail.teamPreferredArea}"></p>
                    <p>실력점수</p>
                </div>
                <div class="col-6 col-lg-4 teaminfo">
                    <p th:if="${detail.mannerScore == -1}">기록없음</p>
                    <p th:unless="${detail.mannerScore == -1}" th:text="${detail.teamPreferredTime}"></p>
                    <p>매너점수</p>
                </div>
                <div class="col-6 col-lg-4 teaminfo">
                    <p th:text="${detail.memberCount}"></p>
                    <p>팀원수</p>
                </div>
                <div class="col-6 col-lg-4 teaminfo">
                    <p th:text="${detail.preferredArea}"></p>
                    <p>선호지역</p>
                </div>
                <div class="col-6 col-lg-4 teaminfo">
                    <p th:text="${detail.preferredTime}"></p>
                    <p>선호시간</p>
                </div>
                <div class="col-4 col-lg-4 teaminfo">
                    <p th:text="${detail.winCount}"></p>
                    <p>승</p>
                </div>
                <div class="col-4 col-lg-4 teaminfo">
                    <p th:text="${detail.drawCount}"></p>
                    <p>무</p>
                </div>
                <div class="col-4 col-lg-4 teaminfo">
                    <p th:text="${detail.loseCount}"></p>
                    <p>패</p>
                </div>
            </div>


            <div class="container mt-5 listexplan">
                <p></p><span>팀원 목록</span>
                <button th:onclick="'teamApply(\'' + ${detail.id} + '\');'" class="joinbtn" th:if="${userlevel == T(com.ssonsal.football.team.entity.Role).USER}">팀 신청 하기</button>
                <button th:onclick="'teamApplyCancel(\'' + ${detail.id} + '\');'" class="joinbtn" th:if="${userlevel == T(com.ssonsal.football.team.entity.Role).TEAM_APPLY}">가입 신청 취소</button>
                <button th:onclick="'teamLeave(\'' + ${detail.id} + '\');'" class="joinbtn" th:if="${userlevel == T(com.ssonsal.football.team.entity.Role).TEAM_MEMBER}">팀 탈퇴 하기</button>
                <span class="joinbtn" style="height:100%;display:inline-block" th:if="${userlevel == T(com.ssonsal.football.team.entity.Role).OTHER_TEAM_APPLY}">신청중인 팀 있음</span>
                <a href="/login" class="joinbtn" th:if="${userlevel == T(com.ssonsal.football.team.entity.Role).GUEST}">팀 신청 하기</a>
            </div>

            <div style="clear: both;"></div>

            <div class="container mt-3 mb-5">
                <div class="row memberlist">
                    <div class="col-lg-6">
                        <div class="members"><p></p>
                            <div id="mlisthead"><span style="width:40%;">닉네임</span><span>나이</span><span>성별</span><span>포지션</span>
                            </div>
                        </div>
                        <div class="leaderbtn"></div>
                    </div>
                    <div class="row mlists">
                        <div class="col-lg-6" th:each="member,i : ${members}">
                            <div class="members"><p th:text="${i.count}"></p><a
                                    th:href="@{/users/{userId}(userId=${member.id})}"><span style="width:40%;"
                                                                                                th:text="${member.nickname}"></span><span
                                    th:text="${member.age}"></span><span th:if="${member.gender == 0}" th:text="남자"></span><span th:if="${member.gender == 1}" th:text="여자"></span><span
                                    th:text="${member.position}"></span></a></div>
                        </div>
                    </div>
                </div>
            </div>


            <div style="clear: both;"></div>
            <div style="height: 100px;" class="mt-5">푸터자리</div>


        </div>


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>